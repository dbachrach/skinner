---
name: Erin Sparck's Triangle Experiment
authors: [Erin M. Sparck, Robert A. Bjork, Elizabeth L. Bjork]

login:
  type: basic

data collection:
  type: upload to server
  server: http://skinnerweb.azurewebsites.net/


dimensions:
  Preparation:
    - type: multipleChoice
    - type: triangle
    - type: studyOnly

  Order:
    - passage: [saturn, yellowstone]
    - passage: [yellowstone, saturn]

  Variation:
    - practice: a
      exam: b
    - practice: b
      exam: a


steps:
  - task: prepare

  - task: study
    repeat: across Order.passage
    in between task: midstudy

  - task: distract

  - task: exam
    repeat: across Order.passage

  - task: survey

  - task: finish


tasks:
  prepare:
    - type: text
      title: Instructions
      content file: instructions-{{Preparation.type}}
      next:
        button: Start

    - show: if {{Preparation.type}} is "triangle"
      type: test
      question set: example
      require correct answer: true
      incorrect answer message: That's not correct. Try again.
      report results: false
      next:
        button: Next

    - show: if {{Preparation.type}} is "triangle"
      type: text
      title: You're ready to begin
      content: If you have any questions, please contact the experimenter before proceeding.
      next:
        button: Begin

  study:
    - type: text
      title: Passage {{_index}}
      content file: passage-{{indexed Order.passage}}
      time: 9 minutes
      # TODO: Remove Continue button
      next:
        button: Continue

    - show: unless {{Preparation.type}} is "studyOnly"
      type: countdown
      title: You are about to start the test in...
      time: 3 seconds

    - show: unless {{Preparation.type}} is "studyOnly"
      type: test
      style: {{Preparation.type}}
      question set: {{indexed Order.passage}}-{{Variation.practice}}
      time: 25 seconds
      show timer: with 10 seconds left
      next:
        button: Next
      show answer labels: true
      show test results: on completion

  midstudy:
    - show: if {{Preparation.type}} is "studyOnly"
      type: distractor
      exercise: tetris
      time: 250 seconds
      content: You are now going to play Tetris.
      # TODO: Remove
      next:
        button: Go!

    - type: text
      title: You are about to read the next passage.
      content: Click next when ready to begin.
      next:
        button: Next

  distract:
    - show: if {{Preparation.type}} is "studyOnly"
      type: distractor
      exercise: tetris
      time: 550 seconds
      content: You are now going to play Tetris.
      # TODO: Remove
      next:
        button: Go!

    - show: unless {{Preparation.type}} is "studyOnly"
      type: distractor
      exercise: tetris
      time: 5 minutes
      content: You are now going to play Tetris.
      # TODO: Remove
      next:
        button: Go!

  exam:
    - type: test
      style: cuedRecall
      question set: {{indexed Order.passage}}-{{Variation.exam}}
      next:
        button: Next

  survey:
    - show: if {{Preparation.type}} is "triangle"
      type: test
      title: Please answer the following question.
      content: How much do you agree or disagree with the following statement about the <strong>triangle</strong> multiple-choice test?
      question set: survey-triangle-scale
      next:
        button: Next

    - show: if {{Preparation.type}} is "triangle"
      type: test
      title: Please answer the following question.
      question set: survey-triangle-other
      next:
        button: Next

    - show: unless {{Preparation.type}} is "triangle"
      type: test
      title: Please answer the following question.
      question set: survey-{{Preparation.type}}
      next:
        button: Next

  finish:
    - type: finish
      title: You have now completed the experiment.
      content file: finish
